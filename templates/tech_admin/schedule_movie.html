{% extends "base.html" %}

{% block header_title %}Schedule Management{% endblock %}

{% block sidebar %}
    <li><a href="{{url_for('tech_admin.tech_admin_home')}}"><i class="fas fa-home"></i> Dashboard</a></li>
    <li><a href="{{url_for('tech_admin.schedule_movie')}}" class="active"><i class="fas fa-calendar-plus"></i> Schedule Movie</a></li>
    <li><a href="{{url_for('tech_admin.delete_schedule')}}"><i class="fas fa-calendar-times"></i> Delete Schedule</a></li>
    <div style="border-top: 1px solid var(--border-color); margin: 10px 15px;"></div>
    <li><a href="{{url_for('tech_admin.view_schedule')}}"><i class="fas fa-calendar-alt"></i> View Schedule</a></li>
{% endblock %}

{% block content %}
    
    <div style="max-width: 800px; margin: 0 auto;">
        
        <h2 class="page-title">Schedule a Movie</h2>
        <p style="color: var(--text-sub); margin-bottom: 25px;">Assign a movie to a theater and set the running dates.</p>

        <form action="{{url_for('tech_admin.schedule_movie')}}" method="POST">
            
            <div style="background-color: var(--bg-primary); padding: 30px; border-radius: 15px; border: 1px solid var(--border-color); box-shadow: var(--shadow);">
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px;">

                    <div>
                        <div class="form-group">
                            <label class="form-label">Theater Name</label>
                            <select name="theater_name" class="form-control" required>
                                <option value="" selected disabled>-- Select Theater --</option>
                                {% for name in theater_names %}
                                    <option value="{{name['theater_name']}}">{{name['theater_name']}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Movie Name</label>
                            <select name="movie_name" class="form-control" required>
                                <option value="" selected disabled>-- Select Movie --</option>
                                {% for name in movie_names %}
                                    <option value="{{name['movie_name']}}">{{name['movie_name']}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    <div>
                        <div class="form-group">
                            <label class="form-label">Start Date</label>
                            <input type="date" name="start_date" class="form-control" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">End Date</label>
                            <input type="date" name="end_date" class="form-control" required>
                        </div>
                    </div>

                </div>

                <div style="display: flex; gap: 15px; margin-top: 30px;">
                    <button type="submit" class="btn btn-primary" style="flex: 2;">
                        <i class="fas fa-calendar-check"></i> Create Schedule
                    </button>
                    
                    <button type="reset" class="btn btn-danger" style="flex: 1;">
                        <i class="fas fa-undo"></i> Reset
                    </button>
                </div>

            </div>
        </form>
    </div>

{% endblock %}