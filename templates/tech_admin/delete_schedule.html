{% extends "base.html" %}

{% block header_title %}Schedule Management{% endblock %}

{% block sidebar %}
    <li><a href="{{url_for('tech_admin.tech_admin_home')}}"><i class="fas fa-home"></i> Dashboard</a></li>
    <li><a href="{{url_for('tech_admin.schedule_movie')}}"><i class="fas fa-calendar-plus"></i> Schedule Movie</a></li>
    <li><a href="{{url_for('tech_admin.delete_schedule')}}" class="active"><i class="fas fa-calendar-times"></i> Delete Schedule</a></li>
    <div style="border-top: 1px solid var(--border-color); margin: 10px 15px;"></div>
    <li><a href="{{url_for('tech_admin.view_schedule')}}"><i class="fas fa-calendar-alt"></i> View Schedule</a></li>
{% endblock %}

{% block content %}

    <div style="max-width: 900px; margin: 0 auto;">
        
        <h2 class="page-title">Delete Schedule</h2>
        <p style="color: var(--text-sub); margin-bottom: 25px;">
            Select the details below to remove a movie schedule from a theater.
            <span style="color: #e74c3c; font-size: 0.85rem; font-weight: bold; display: block; margin-top: 5px;">
                <i class="fas fa-exclamation-triangle"></i> Warning: This will cancel all bookings associated with this schedule.
            </span>
        </p>
        
        <form action="{{url_for('tech_admin.delete_schedule')}}" method="POST">
            
            <div style="background-color: var(--bg-primary); padding: 30px; border-radius: 15px; border: 1px solid var(--border-color);">
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    
                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label">Movie Name</label>
                        <select name="movie_name" class="form-control" required>
                            <option value="" selected disabled>-- Select Movie --</option>
                            {% for name in movie_names %}
                                <option value="{{name['movie_name']}}">{{name['movie_name']}}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label">Theater Name</label>
                        <select name="theater_name" class="form-control" required>
                            <option value="" selected disabled>-- Select Theater --</option>
                            {% for name in theater_names %}
                                <option value="{{name['theater_name']}}">{{name['theater_name']}}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label">Start Date</label>
                        <input type="date" name="start_date" class="form-control" required>
                    </div>

                </div>

                <div style="margin-top: 30px; text-align: center;">
                    <button type="submit" class="btn btn-danger" style="padding: 12px 50px; border-radius: 50px;"
                            onclick="return confirm('Are you sure you want to delete this schedule? This action cannot be undone.');">
                        <i class="fas fa-trash-alt"></i> Delete Schedule
                    </button>
                </div>

            </div>
        </form>

    </div>

{% endblock %}